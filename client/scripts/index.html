<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>camunda Admin</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="description" content="camunda Admin" />
    <meta name="author" content="camunda services GmbH" />

    <!-- settings the base path for relative links -->
    <base href="$BASE" admin-api="$APP_ROOT/api/admin/" engine-api="$APP_ROOT/api/engine/" app-root="$APP_ROOT" />

    <!-- an example of plugin/feature exclusion -->
    <!--
    <base href="$BASE"
          admin-api="$APP_ROOT/api/admin/"
          engine-api="$APP_ROOT/api/engine/"
          app-root="$APP_ROOT"
          cam-exclude-plugins="admin.dashboard:process-definition-tiles" />
    -->


    <!-- styles -->
    <link href="$APP_ROOT/app/admin/styles/styles.css?bust=CACHE_BUSTER" rel="stylesheet" />

    <!-- favicon -->
    <link href="$APP_ROOT/app/cockpit/assets/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />

  </head>
  <body>
    <!-- navigation -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-header">
        <button type="button"
                class="navbar-toggle collapsed"
                data-toggle="collapse"
                data-target="#navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="navbar-brand" href="#/">
          camunda Admin
        </a>
      </div>

      <ul ng-cloak
          cam-if-logged-in
          class="nav navbar-nav"
          ng-controller="NavigationController">

        <li class="dropdown"
            ng-class="activeClass('#/user')">
          <a sem-show-users
             href="#/users">Users</a>
        </li>

        <li class="dropdown"
            ng-class="activeClass('#/group')">
          <a sem-show-groups
             href="#/groups">Groups</a>
        </li>

        <li class="dropdown"
            ng-class="activeClass('#/authorization')"
            show-if-authorized
            auth-permission="ALL"
            auth-resource-name="authorization">
          <a sem-show-authorizations
             href="#/authorization?resource=0">Authorizations</a>
        </li>
        <li class="dropdown"
            ng-class="activeClass('#/system')">
          <a sem-show-systems
             href="#/system?section=system-settings-general">System</a>
        </li>
      </ul>



      <ul class="nav navbar-nav pull-right"
          ng-controller="AuthenticationController">

        <li engine-select></li>

        <li class="dropdown"
            cam-if-logged-in
            ng-cloak>
          <a href
             sem-show-user-actions
             class="dropdown-toggle"
             data-toggle="dropdown">
            <i class="glyphicon glyphicon-user "></i>
            {{ authentication.name }}
          </a>

          <ul class="dropdown-menu dropdown-menu-right">
            <li>
              <a sem-jump-to-profile
                 ng-href="{{ '../../admin/:engine/#/users/' + authentication.name + '?tab=profile' | uri }}">
                My Profile
              </a>
            </li>

            <li class="divider"></li>

            <li>
              <a href sem-log-out
                 ng-click="logout()">
                Sign out
              </a>
            </li>
          </ul>
        </li>

        <li class="divider-vertical"
            cam-if-logged-in
            ng-cloak></li>

        <li class="app-switch dropdown">
          <a href
             sem-show-applications
             class="dropdown-toggle"
             data-toggle="dropdown">
            <i class="glyphicon glyphicon-home"></i>
            <b class="caret"></b>
          </a>

          <ul class="dropdown-menu dropdown-menu-right">
            <li ng-show="!authentication || authentication.canAccess('cockpit')">
              <a sem-jump-to-cockpit
                 ng-href="{{ '../../cockpit/:engine/' | uri }}">Cockpit</a>
            </li>

            <li ng-show="!authentication || authentication.canAccess('tasklist')">
              <a sem-jump-to-tasklist
                 ng-href="{{ '../../tasklist/:engine/' | uri }}">Tasklist</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>

    <!-- content -->
    <div class="ctn-main">
      <div class="ctn-wrapper">
        <div cam-breadcrumbs-panel
             divider="&raquo;"
             class="breadcrumbs-panel"></div>

        <div notifications-panel
             class="notifications-panel"></div>

        <!-- view body provided by ngView -->
        <div ng-view></div>
      </div>
    </div>

    <!-- footer -->
    <footer>
      <div>
        Powered by <a href="http://camunda.org">camunda BPM</a> / <span class="version">v${project.version}</span>
      </div>
    </footer>

    <script type="application/javascript">
      window.PLUGIN_DEPENDENCIES = $PLUGIN_DEPENDENCIES || [];
      window.PLUGIN_PACKAGES = $PLUGIN_PACKAGES || [];
    </script>

    <script type="application/javascript"
            src="$APP_ROOT/app/admin/scripts/deps.js"
            data-main="$APP_ROOT/app/admin/scripts/camunda-admin-ui"></script>

  </body>
</html>
